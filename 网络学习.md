# 网络知识

### 网络设备极其作用

- 两个机器网线互连网口
- 集线器（Hub）
  - 多网口设备实现多机器连通
  - 工作在物理层
  - 广播方式，所有人均可接收消息
  - 只能一人发言，否者发生信息冲突
- 交换机 (Switch)
  - 可以通过网口地址（引入mac 地址） 自动寻址传输数据
  - 工作在数据链路层
- 路由器（Router）
  - IP地址被引入
  - 通过IP地址寻址 工作在网络层

### 网络通讯协议

- 五层模型
  - 应用层： 数据格式该如何 有哪些内容 Data 部分：Http, Email, WWW, FTP 都是应用层协议
  - 传输层：TCP/UDP 协议， 有了具体的数据格式， 有了逻辑抽象IP 之后，数据该怎么传输怎么交互， TCP/UDP 要解决的问题
  - 网络层：IP协议，IP数据包，
  - 链路层： 数据分组方式，数据内容，数据格式 Head, Data, Mac 地址在该层， ARP协议广播，有实际意义 能找到具体的设备 固定的东西 不时抽象的
  - 实体层：网络的一些电器特性 负责传送0和1的电信号

```
实体层 ==> 链路层 ==》 网络层 ==》 传输层 ==》 应用层
 0/1        MAC        IP      UDP/TCP     Http/FTP/P0p3 
```

### 用户上网

- 静态IP
  - 本机IP地址
  - 子网掩码 255.255.255.0
  - 网关IP
  - DNS的IP地址
- 动态IP
  - DHCP 协议 基于UDP的网络协议

### 协议分层

- Application
- TCP 保证数据通信的完整性和可靠性，防止丢包
- IP 协议可以连接多个局域网  路由器 仅为地址协议
- Ethernet 以太网协议  电子信号如何组成数据包 以太网解决了局域网点对点通信的问题

### TCP 协议

- TCP 数据包组装由操作系统完成
- TCP慢启动，从10个数据包开始发送，然后根据 发送/接收窗口动态调整
- ACK acknowledgement 机制做数据包的丢失处理
- TCP 数据有序
- 三次握手 四次挥手   SYN   SYN+ ACK  ACK

### HTTP 协议

- 应用层协议 -- 短连接
- 发收过程类似打包发快递+拆包装取快递
- 客户端/请求端模式 客户端主动发请求  请求==> 响应模式
- 无状态协议  通过Cookie 管理状态
- 一个TCP连接 能够进行多次的请求和响应的交互  持久连接
- 管线化

### Http 报文结构

